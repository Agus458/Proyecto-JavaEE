

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

	<!-- Navbar -->
	<h:panelGroup rendered='#{sesionBean.activo!=true}'>
		<nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
			<div
				class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><a class="nav-link"
						href="/SteamIndieWeb/index.xhtml">Home</a></li>
					<li class="nav-item"><a class="nav-link" href="/SteamIndieWeb/store.xhtml">Tienda</a></li>

					<li class="nav-item mr-2"><a class="nav-link" href="#">Soporte</a>
					</li>
					<h:form styleClass="form-inline">
						<h:inputText aria-label="Search" styleClass="form-control mr-sm-2" value="#{indexBean.query}" placeholder="Search" />
						
						<h:commandButton action="#{indexBean.buscar()}" value="Buscar" styleClass="btn btn-outline-info my-2 my-sm-0"/>
					</h:form>
				</ul>

			</div>
			<div class="mx-auto order-0 d-flex">
				<div class="logo">
					<img src="https://i.ibb.co/nCnQ4VP/Steam-Logo.png" alt=""></img>
				</div>
				<a class="navbar-brand mx-auto" href="/SteamIndieWeb/index.xhtml">SteamIndie</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target=".dual-collapse2">
					<span class="navbar-toggler-icon"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item"><a class="nav-link" data-toggle="modal"
						data-target="#myModal"><i class="fas fa-user mr-2"></i>Iniciar
							Sesión</a></li>

				</ul>
			</div>
		</nav>
		<ui:include src="/partials/modalForms.xhtml" />
	</h:panelGroup>

	<h:panelGroup rendered='#{sesionBean.activo}'>
		<nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
			<div
				class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><a class="nav-link"
						href="/SteamIndieWeb/index.xhtml">Home</a></li>
					<li class="nav-item"><a class="nav-link" href="/SteamIndieWeb/store.xhtml">Tienda</a></li>
					<h:panelGroup rendered="#{sesionBean.creador==null}">		
						<li class="nav-item"><a class="nav-link"
							href="/SteamIndieWeb/views/library.xhtml">Biblioteca</a></li>
						<li class="nav-item"><a class="nav-link"
							href="/SteamIndieWeb/views/billetera.xhtml">Mi Saldo</a></li>
						<li class="nav-item"><a class="nav-link"
							href="/SteamIndieWeb/views/cart.xhtml">Carrito</a></li>
					</h:panelGroup>					
					<h:panelGroup rendered="#{sesionBean.creador!=null}">
						<li class="nav-item"><a class="nav-link"
							href="/SteamIndieWeb/views/sales.xhtml">Ofertas</a></li>
						<li class="nav-item"><a class="nav-link"
							href="/SteamIndieWeb/views/stats.xhtml">Ventas</a></li>
						<li class="nav-item mr-2"><a class="nav-link"
							data-toggle="modal" data-target="#publicarJuegoModal">Publicar
								Juego</a></li>
						<ui:include src="/partials/modalPublicarJuego.xhtml"></ui:include>
					</h:panelGroup>


					<form class="form-inline">
						<input class="form-control mr-sm-2" type="search"
							placeholder="Search" aria-label="Search"></input>
					</form>
					<button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
				</ul>

			</div>
			<div class="mx-auto order-0 d-flex">
				<div class="logo">
					<img src="https://i.ibb.co/nCnQ4VP/Steam-Logo.png" alt=""></img>
				</div>
				<a class="navbar-brand mx-auto" href="/SteamIndieWeb/index.xhtml">SteamIndie</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target=".dual-collapse2">
					<span class="navbar-toggler-icon"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item"><a class="nav-link" href="/SteamIndieWeb/views/profile.xhtml"><i
							class="fas fa-user mr-2"></i>#{sesionBean.usuario.nickname}</a></li>
					<li class="nav-item"><a class="nav-link" href="/SteamIndieWeb/backoffice/backoffice.xhtml"><i
					 	class="fas fa-user-cog mr-2"></i>Administración</a></li>	
					<li class="nav-item"><h:form>
							<h:commandLink styleClass="nav-link"
								action="#{sesionBean.logout()}">
                             Cerrar Sesión   <i class="fas fa-sign-out-alt"></i>
                        </h:commandLink>
						</h:form></li>
				</ul>
			</div>
		</nav>

	</h:panelGroup>
	<script>
      function onSignIn(googleUser) {
        // Useful data for your client-side scripts:
        var profile = googleUser.getBasicProfile();
        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
        console.log('Full Name: ' + profile.getName());
        console.log('Given Name: ' + profile.getGivenName());
        console.log('Family Name: ' + profile.getFamilyName());
        console.log("Image URL: " + profile.getImageUrl());
        console.log("Email: " + profile.getEmail());

        // The ID token you need to pass to your backend:
        var id_token = googleUser.getAuthResponse().id_token;
        console.log("ID Token: " + id_token);
      }
    </script>
</ui:composition>
