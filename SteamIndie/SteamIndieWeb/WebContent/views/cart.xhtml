<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

<h:head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>

    <title>Steam Indie</title>
    <ui:include src="../partials/head.xhtml"/>
    
    
</h:head>

<h:body class="bg-dark">

	<ui:include src="../partials/nav.xhtml" />
	<h:panelGroup rendered="#{carritoBean.carrito.id != null}">
            
	    <div class="container">
			<section class="mt-5">
			    <div class="container">
			        <div class="cart">
			            <div class="table-responsive">
			                <table class="table">
			                    <thead class="thead-dark">
			                        <tr>
			                            <th scope="col" class="text-white">Producto</th>
			                            <th scope="col" class="text-white">Precio</th>
			                            <th scope="col" class="text-white">Eliminar</th>
			                        </tr>
			                    </thead>
			                    <tbody>
			                    	<ui:repeat value="#{carritoBean.carrito.juegos}" var="juego">
			                    								    		<h:form>
			                    
			                        <tr>
			                            <td>
			                                <div class="main">
			                                    <div class="d-flex">
													<h:graphicImage value="#{juego.media.logo}"/>
			                                        <p>#{juego.nombre}</p>
			                                    </div>
			
			                                </div>
			                            </td>
			
			
			                            <td>
			                                <h6>#{juego.precio}</h6>
			                            </td>
			
			                            <td>
			                            	<h:commandButton action="#{carritoBean.removeCarrito(juego.id)}" styleClass="btn btn-danger" value="Borrar" />
											<i class="far fa-trash-alt"></i>
			                            </td>
			                        </tr>
										</h:form>
			                        </ui:repeat>
			                    
			                    </tbody>
			                </table>
			            </div>
			        </div>
			    </div>
			</section>
			<div class="col-lg-4 offset-lg-4">
			    <div class="checkout">
			        <ul>
			            <li class="cart-total">Total
			                <span>$60.00</span>
			            </li>
			        </ul>
			        <h:form>
			        <h:commandLink action="#{carritoBean.checkOut()}" value="CheckOut" styleClass="proceed-btn"/>
			    	</h:form>
			    </div>
			</div>
	              
        </div>
	</h:panelGroup>
            
    
<ui:include src="../partials/footer.xhtml" />    

</h:body>
</html>