<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<h:head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>

    <title>Steam Indie</title>
    <ui:include src="/partials/head.xhtml"/>
    
    
</h:head>

<h:body class="bg-dark">


            <ui:include src="/partials/nav.xhtml" />
            
                <div class="container-fluid mt-3">

					<c:set var="j" value="#{gameBean.dataJuego}" scope="request" />
				    <div class="row">
				      <div class="col col-md-9 col-sm">
				        <div class="img-display">
				          <div class="img-showcase">
				          	<ui:repeat value="#{j.media.imagenes}" var="imagen">
				          		<h:graphicImage value="#{imagen}" />
				            </ui:repeat>
				          </div>
				          
				        </div>
						
						
				        <div class="img-select">
				        	<ui:repeat value="#{j.media.imagenes}" var="imagen">
					          <div class="img-item">
					            <a href="#" data-id="1">
					          		<h:graphicImage value="#{imagen}" />
					            </a>
					          </div>
				          </ui:repeat>
				          
				          
				          
				        </div>
				      </div>
				    
				
				
				
				    
				      <div class="col">
				        <div class="product-content">
				          <h2 class="product-title">#{j.nombre}</h2>
				          <a href="#" class="product-link">||Creador||</a>
				
				
				          <div class="product-price">
				            <p class="new-price">Precio: <span>$#{j.precio} </span></p>
				          </div>
				
				          <div class="product-detail">
				            <h2>Descripción: </h2>
				            <p>#{j.descripcion}</p>
				           
				
				          </div>
							<h:panelGroup rendered="#{sesionBean.creador==null}">
					          <div class="purchase-info">
								<h:form>
									<h:commandButton actionListener="#{carritoBean.addCarrito()}" value="Agregar al carrito" styleClass="btn btn-primary" >
						            	<f:ajax execute="@form" render="@none" />
						            	<f:param name="id" value="#{gameBean.dataJuego.id}"></f:param>
						            </h:commandButton>
						            <!--<button type="button" class="btn">
						              Añadir al carrito <i class="fas fa-shopping-cart"></i>
						            </button><!-->
								</h:form>
								
					          </div>
				          </h:panelGroup>
				        </div>
				      </div>
				    </div>
				
				  </div>
				  
				  <div class="container">
					<div class="row">
					<!-- Contenedor Principal -->
				    <div class="comments-container">
				
						<ul id="comments-list" class="comments-list">
							<li>
								<div class="comment-main-level">
									<!-- Avatar -->
									<div class="comment-avatar"><img src="http://i9.photobucket.com/albums/a88/creaticode/avatar_1_zps8e1c80cd.jpg" alt=""></img></div>
									<!-- Contenedor del Comentario -->
									<div class="comment-box">
										<div class="comment-head">
											<h6 class="comment-name"><a href="">Agustin Ortiz</a></h6>
											<i class="fa fa-reply"></i>
										</div>
										<div class="comment-content">
											Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
										</div>
									</div>
								</div>
								<!-- Respuestas de los comentarios -->
								<ul class="comments-list reply-list">
									<li>
										<!-- Avatar -->
										<div class="comment-avatar"><img src="http://i9.photobucket.com/albums/a88/creaticode/avatar_2_zps7de12f8b.jpg" alt=""></img></div>
										<!-- Contenedor del Comentario -->
										<div class="comment-box">
											<div class="comment-head">
												<h6 class="comment-name"><a href="http://creaticode.com/blog">Lorena Rojero</a></h6>
												<i class="fa fa-reply"></i>
											</div>
											<div class="comment-content">
												Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?
											</div>
										</div>
									</li>
				
									
								</ul>
							</li>
						</ul>
					</div>
					</div>
				</div>
	
				  <script type="text/javascript">
				    const imgs = document.querySelectorAll('.img-select a');
				    const imgBtns = [...imgs];
				    let imgId = 1;
				
				    imgBtns.forEach((imgItem) => {
				      imgItem.addEventListener('click', (event) => {
				        event.preventDefault();
				        imgId = imgItem.dataset.id;
				        slideImage();
				      });
				    });
				
				    function slideImage() {
				      const displayWidth = document.querySelector('.img-showcase img:first-child').clientWidth;
				
				      document.querySelector('.img-showcase').style.transform = `translateX(${- (imgId - 1) * displayWidth}px)`;
				    }
				
				    window.addEventListener('resize', slideImage);
				  </script>

<ui:include src="/partials/footer.xhtml" />    

</h:body>

</html>